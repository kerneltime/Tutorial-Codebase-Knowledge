<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 900">
    <!-- Background -->
    <rect width="1100" height="900" fill="#f5f5f0" />

    <!-- Title with improved styling -->
    <text x="550" y="40" font-family="Inter, sans-serif" font-size="26" text-anchor="middle" fill="#357500" font-weight="bold">Apache Ozone Erasure Coding (3:2 scheme)</text>

    <!-- DATA NODES - First row (data blocks) -->
    <!-- Datanode 1 -->
    <rect x="50" y="80" width="250" height="330" rx="12" ry="12" fill="#e0edd2" stroke="#357500" stroke-width="3" />
    <text x="175" y="115" font-family="Inter, sans-serif" font-size="22" text-anchor="middle" fill="#357500" font-weight="bold">Datanode-42</text>

    <!-- Disk-Volume in Datanode 1 -->
    <rect x="70" y="140" width="210" height="250" rx="10" ry="10" fill="#d1e4bc" stroke="#2d6300" stroke-width="2" />
    <text x="175" y="170" font-family="Inter, sans-serif" font-size="18" text-anchor="middle" fill="#2d6300" font-weight="bold">Disk-Volume-107</text>

    <!-- Data Container in Datanode 1 -->
    <rect x="90" y="190" width="170" height="180" rx="8" ry="8" fill="#96d26e" stroke="#3a8100" stroke-width="3" />
    <text x="175" y="220" font-family="Inter, sans-serif" font-size="16" text-anchor="middle" fill="#3a8100" font-weight="bold">EC Container-583</text>
    <text x="175" y="240" font-family="Inter, sans-serif" font-size="14" text-anchor="middle" fill="#3a8100">(Data Block 1)</text>

    <!-- Block in Container -->
    <rect x="110" y="260" width="130" height="90" rx="6" ry="6" fill="#7986cb" stroke="#283593" stroke-width="2" />
    <text x="175" y="282" font-family="Inter, sans-serif" font-size="14" text-anchor="middle" fill="#ffffff" font-weight="bold">Block-84</text>
    <text x="175" y="302" font-family="Inter, sans-serif" font-size="12" text-anchor="middle" fill="#ffffff">(Object 235)</text>

    <!-- Chunks in Block -->
    <rect x="120" y="320" width="50" height="20" rx="4" ry="4" fill="#5c6bc0" stroke="#1a237e" stroke-width="1.5" />
    <text x="145" y="335" font-family="Inter, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">Chunk-1</text>

    <rect x="180" y="320" width="50" height="20" rx="4" ry="4" fill="#5c6bc0" stroke="#1a237e" stroke-width="1.5" />
    <text x="205" y="335" font-family="Inter, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">Chunk-2</text>

    <!-- Datanode 2 -->
    <rect x="320" y="80" width="250" height="330" rx="12" ry="12" fill="#e0edd2" stroke="#357500" stroke-width="3" />
    <text x="445" y="115" font-family="Inter, sans-serif" font-size="22" text-anchor="middle" fill="#357500" font-weight="bold">Datanode-78</text>

    <!-- Disk-Volume in Datanode 2 -->
    <rect x="340" y="140" width="210" height="250" rx="10" ry="10" fill="#d1e4bc" stroke="#2d6300" stroke-width="2" />
    <text x="445" y="170" font-family="Inter, sans-serif" font-size="18" text-anchor="middle" fill="#2d6300" font-weight="bold">Disk-Volume-254</text>

    <!-- Data Container in Datanode 2 -->
    <rect x="360" y="190" width="170" height="180" rx="8" ry="8" fill="#96d26e" stroke="#3a8100" stroke-width="3" />
    <text x="445" y="220" font-family="Inter, sans-serif" font-size="16" text-anchor="middle" fill="#3a8100" font-weight="bold">EC Container-584</text>
    <text x="445" y="240" font-family="Inter, sans-serif" font-size="14" text-anchor="middle" fill="#3a8100">(Data Block 2)</text>

    <!-- Block in Container -->
    <rect x="380" y="260" width="130" height="90" rx="6" ry="6" fill="#7986cb" stroke="#283593" stroke-width="2" />
    <text x="445" y="282" font-family="Inter, sans-serif" font-size="14" text-anchor="middle" fill="#ffffff" font-weight="bold">Block-85</text>
    <text x="445" y="302" font-family="Inter, sans-serif" font-size="12" text-anchor="middle" fill="#ffffff">(Object 235)</text>

    <!-- Chunks in Block -->
    <rect x="390" y="320" width="50" height="20" rx="4" ry="4" fill="#5c6bc0" stroke="#1a237e" stroke-width="1.5" />
    <text x="415" y="335" font-family="Inter, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">Chunk-1</text>

    <rect x="450" y="320" width="50" height="20" rx="4" ry="4" fill="#5c6bc0" stroke="#1a237e" stroke-width="1.5" />
    <text x="475" y="335" font-family="Inter, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">Chunk-2</text>

    <!-- Datanode 3 -->
    <rect x="590" y="80" width="250" height="330" rx="12" ry="12" fill="#e0edd2" stroke="#357500" stroke-width="3" />
    <text x="715" y="115" font-family="Inter, sans-serif" font-size="22" text-anchor="middle" fill="#357500" font-weight="bold">Datanode-96</text>

    <!-- Disk-Volume in Datanode 3 -->
    <rect x="610" y="140" width="210" height="250" rx="10" ry="10" fill="#d1e4bc" stroke="#2d6300" stroke-width="2" />
    <text x="715" y="170" font-family="Inter, sans-serif" font-size="18" text-anchor="middle" fill="#2d6300" font-weight="bold">Disk-Volume-487</text>

    <!-- Data Container in Datanode 3 -->
    <rect x="630" y="190" width="170" height="180" rx="8" ry="8" fill="#96d26e" stroke="#3a8100" stroke-width="3" />
    <text x="715" y="220" font-family="Inter, sans-serif" font-size="16" text-anchor="middle" fill="#3a8100" font-weight="bold">EC Container-585</text>
    <text x="715" y="240" font-family="Inter, sans-serif" font-size="14" text-anchor="middle" fill="#3a8100">(Data Block 3)</text>

    <!-- Block in Container -->
    <rect x="650" y="260" width="130" height="90" rx="6" ry="6" fill="#7986cb" stroke="#283593" stroke-width="2" />
    <text x="715" y="282" font-family="Inter, sans-serif" font-size="14" text-anchor="middle" fill="#ffffff" font-weight="bold">Block-86</text>
    <text x="715" y="302" font-family="Inter, sans-serif" font-size="12" text-anchor="middle" fill="#ffffff">(Object 235)</text>

    <!-- Chunks in Block -->
    <rect x="660" y="320" width="50" height="20" rx="4" ry="4" fill="#5c6bc0" stroke="#1a237e" stroke-width="1.5" />
    <text x="685" y="335" font-family="Inter, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">Chunk-1</text>

    <rect x="720" y="320" width="50" height="20" rx="4" ry="4" fill="#5c6bc0" stroke="#1a237e" stroke-width="1.5" />
    <text x="745" y="335" font-family="Inter, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">Chunk-2</text>

    <!-- DATA NODES - Second row (parity blocks) -->
    <!-- Datanode 4 -->
    <rect x="200" y="440" width="250" height="330" rx="12" ry="12" fill="#e0edd2" stroke="#357500" stroke-width="3" />
    <text x="325" y="475" font-family="Inter, sans-serif" font-size="22" text-anchor="middle" fill="#357500" font-weight="bold">Datanode-112</text>

    <!-- Disk-Volume in Datanode 4 -->
    <rect x="220" y="500" width="210" height="250" rx="10" ry="10" fill="#d1e4bc" stroke="#2d6300" stroke-width="2" />
    <text x="325" y="530" font-family="Inter, sans-serif" font-size="18" text-anchor="middle" fill="#2d6300" font-weight="bold">Disk-Volume-632</text>

    <!-- Parity Container in Datanode 4 -->
    <rect x="240" y="550" width="170" height="180" rx="8" ry="8" fill="#ffe0b2" stroke="#e64a19" stroke-width="3" />
    <text x="325" y="580" font-family="Inter, sans-serif" font-size="16" text-anchor="middle" fill="#e64a19" font-weight="bold">EC Container-586</text>
    <text x="325" y="600" font-family="Inter, sans-serif" font-size="14" text-anchor="middle" fill="#e64a19">(Parity Block 1)</text>

    <!-- Block in Container -->
    <rect x="260" y="620" width="130" height="90" rx="6" ry="6" fill="#ffb74d" stroke="#e65100" stroke-width="2" />
    <text x="325" y="642" font-family="Inter, sans-serif" font-size="14" text-anchor="middle" fill="#ffffff" font-weight="bold">Block-87</text>
    <text x="325" y="662" font-family="Inter, sans-serif" font-size="12" text-anchor="middle" fill="#ffffff">(Parity Data P)</text>

    <!-- Chunks in Block -->
    <rect x="270" y="680" width="50" height="20" rx="4" ry="4" fill="#ff9800" stroke="#e65100" stroke-width="1.5" />
    <text x="295" y="695" font-family="Inter, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">Chunk-1</text>

    <rect x="330" y="680" width="50" height="20" rx="4" ry="4" fill="#ff9800" stroke="#e65100" stroke-width="1.5" />
    <text x="355" y="695" font-family="Inter, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">Chunk-2</text>

    <!-- Datanode 5 -->
    <rect x="470" y="440" width="250" height="330" rx="12" ry="12" fill="#e0edd2" stroke="#357500" stroke-width="3" />
    <text x="595" y="475" font-family="Inter, sans-serif" font-size="22" text-anchor="middle" fill="#357500" font-weight="bold">Datanode-143</text>

    <!-- Disk-Volume in Datanode 5 -->
    <rect x="490" y="500" width="210" height="250" rx="10" ry="10" fill="#d1e4bc" stroke="#2d6300" stroke-width="2" />
    <text x="595" y="530" font-family="Inter, sans-serif" font-size="18" text-anchor="middle" fill="#2d6300" font-weight="bold">Disk-Volume-839</text>

    <!-- Parity Container in Datanode 5 -->
    <rect x="510" y="550" width="170" height="180" rx="8" ry="8" fill="#ffe0b2" stroke="#e64a19" stroke-width="3" />
    <text x="595" y="580" font-family="Inter, sans-serif" font-size="16" text-anchor="middle" fill="#e64a19" font-weight="bold">EC Container-587</text>
    <text x="595" y="600" font-family="Inter, sans-serif" font-size="14" text-anchor="middle" fill="#e64a19">(Parity Block 2)</text>

    <!-- Block in Container -->
    <rect x="530" y="620" width="130" height="90" rx="6" ry="6" fill="#ffb74d" stroke="#e65100" stroke-width="2" />
    <text x="595" y="642" font-family="Inter, sans-serif" font-size="14" text-anchor="middle" fill="#ffffff" font-weight="bold">Block-88</text>
    <text x="595" y="662" font-family="Inter, sans-serif" font-size="12" text-anchor="middle" fill="#ffffff">(Parity Data Q)</text>

    <!-- Chunks in Block -->
    <rect x="540" y="680" width="50" height="20" rx="4" ry="4" fill="#ff9800" stroke="#e65100" stroke-width="1.5" />
    <text x="565" y="695" font-family="Inter, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">Chunk-1</text>

    <rect x="600" y="680" width="50" height="20" rx="4" ry="4" fill="#ff9800" stroke="#e65100" stroke-width="1.5" />
    <text x="625" y="695" font-family="Inter, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">Chunk-2</text>

    <!-- Diagram explanation -->
    <!-- Object Split Text -->
    <text x="920" y="245" font-family="Inter, sans-serif" font-size="16" text-anchor="middle" fill="#357500" font-weight="bold">Object Data Split</text>
    <text x="920" y="265" font-family="Inter, sans-serif" font-size="14" text-anchor="middle" fill="#357500">Across 3 Data Blocks</text>

    <!-- Parity Calculation Text -->
    <text x="800" y="600" font-family="Inter, sans-serif" font-size="16" text-anchor="middle" fill="#357500" font-weight="bold">Parity Calculation</text>
    <text x="800" y="620" font-family="Inter, sans-serif" font-size="14" text-anchor="middle" fill="#357500">P, Q = f(Data Blocks)</text>

    <!-- Legend with improved spacing moved down -->
    <rect x="100" y="830" width="900" height="55" rx="5" ry="5" fill="#f0f5fa" stroke="#dadce0" stroke-width="1" />
    
    <!-- Legend title -->
    <text x="550" y="825" font-family="Inter, sans-serif" font-size="16" text-anchor="middle" fill="#357500" font-weight="bold">Legend</text>
    
    <!-- Legend items -->
    <rect x="120" y="855" width="20" height="15" fill="#96d26e" stroke="#3a8100" stroke-width="2" />
    <text x="150" y="867" font-family="Inter, sans-serif" font-size="12" text-anchor="start" fill="#3a8100">Data Block Container</text>

    <rect x="310" y="855" width="20" height="15" fill="#ffe0b2" stroke="#e64a19" stroke-width="2" />
    <text x="340" y="867" font-family="Inter, sans-serif" font-size="12" text-anchor="start" fill="#e64a19">Parity Block Container</text>

    <rect x="520" y="855" width="20" height="15" fill="#7986cb" stroke="#283593" stroke-width="2" />
    <text x="550" y="867" font-family="Inter, sans-serif" font-size="12" text-anchor="start" fill="#283593">Data Block</text>

    <rect x="630" y="855" width="20" height="15" fill="#ffb74d" stroke="#e65100" stroke-width="2" />
    <text x="660" y="867" font-family="Inter, sans-serif" font-size="12" text-anchor="start" fill="#e65100">Parity Block</text>

    <rect x="740" y="855" width="20" height="15" fill="#5c6bc0" stroke="#1a237e" stroke-width="1.5" />
    <text x="770" y="867" font-family="Inter, sans-serif" font-size="12" text-anchor="start" fill="#1a237e">Data Chunk</text>

    <rect x="860" y="855" width="20" height="15" fill="#ff9800" stroke="#e65100" stroke-width="1.5" />
    <text x="890" y="867" font-family="Inter, sans-serif" font-size="12" text-anchor="start" fill="#e65100">Parity Chunk</text>
</svg>